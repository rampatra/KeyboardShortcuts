<!DOCTYPE html>
<html lang="en">
  <head>
    <title>NSMenuItem Extension Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
     <script> window.addEventListener('DOMContentLoaded', () => { document.querySelector('.header-link[href^=dash-feed]').remove(); }); </script> 
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Extension/NSMenuItem" class="dashAnchor"></a>

    <a title="NSMenuItem Extension Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          KeyboardShortcuts 0.2.0 Docs
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/sindresorhus/KeyboardShortcuts">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fsindresorhus%2Ecom%2Fdocsets%2FKeyboardShortcuts%2Exml">
            <img class="header-icon" src="../img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">KeyboardShortcuts Reference</a>
      <img class="carat" src="../img/carat.png" />
      NSMenuItem Extension Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts.html">KeyboardShortcuts</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts/Key.html">– Key</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts/Name.html">– Name</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts/Recorder.html">– Recorder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts/RecorderCocoa.html">– RecorderCocoa</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeyboardShortcuts/Shortcut.html">– Shortcut</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/NSMenuItem.html">NSMenuItem</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>NSMenuItem</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">NSMenuItem</span></code></pre>

                </div>
              </div>
            
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:So10NSMenuItemC17KeyboardShortcutsE11setShortcut3foryA2CC4NameVSg_tF"></a>
                    <a name="//apple_ref/swift/Method/setShortcut(for:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:So10NSMenuItemC17KeyboardShortcutsE11setShortcut3foryA2CC4NameVSg_tF">setShortcut(for:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Show a recorded keyboard shortcut in a <code>NSMenuItem</code>.</p>

<p>The menu item will automatically be kept up to date with changes to the keyboard shortcut.</p>

<p>Pass in <code>nil</code> to clear the keyboard shortcut.</p>

<p>This method overrides <code>.keyEquivalent</code> and <code>.keyEquivalentModifierMask</code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Cocoa</span>
<span class="kd">import</span> <span class="kt">KeyboardShortcuts</span>

<span class="kd">extension</span> <span class="kt">KeyboardShortcuts</span><span class="o">.</span><span class="kt">Name</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">toggleUnicornMode</span> <span class="o">=</span> <span class="kt">Name</span><span class="p">(</span><span class="s">"toggleUnicornMode"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// … `Recorder` logic for recording the keyboard shortcut …</span>

<span class="k">let</span> <span class="nv">menuItem</span> <span class="o">=</span> <span class="kt">NSMenuItem</span><span class="p">()</span>
<span class="n">menuItem</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Toggle Unicorn Mode"</span>
<span class="n">menuItem</span><span class="o">.</span><span class="nf">setShortcut</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">toggleUnicornMode</span><span class="p">)</span>
</code></pre>

<p>You can test this method in the example project. Run it, record a shortcut and then look at the “Test” menu in the app&rsquo;s main menu.</p>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    You will have to disable the global keyboard shortcut while the menu is open, as otherwise, the keyboard events will be buffered up and triggered when the menu closes. This is because <code>NSMenu</code> puts the thread in tracking-mode, which prevents the keyboard events from being received. You can listen to whether a menu is open by implementing <code>NSMenuDelegate#menuWillOpen</code> and <code>NSMenuDelegate#menuDidClose</code>. You then use <code>KeyboardShortcuts.disable</code> and <code>KeyboardShortcuts.enable</code>.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setShortcut</span><span class="p">(</span><span class="k">for</span> <span class="nv">name</span><span class="p">:</span> <span class="kt"><a href="../Classes/KeyboardShortcuts.html">KeyboardShortcuts</a></span><span class="o">.</span><span class="kt">Name</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>MIT License © <a class="link" href="https://sindresorhus.com" target="_blank" rel="external">Sindre Sorhus</a></p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
